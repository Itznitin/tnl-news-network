'use client';
import { useEffect, useState } from 'react';
export default function ThemeToggle(){ const [dark, setDark] = useState<boolean|null>(null); const [mounted, setMounted]=useState(false); useEffect(()=>{ setMounted(true); try{ const s=localStorage.getItem('tnl-theme'); if(s==='dark'||s==='light'){ const d=s==='dark'; setDark(d); document.documentElement.classList.toggle('dark',d); return } const p=window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches; setDark(p); document.documentElement.classList.toggle('dark',p); }catch(e){ setDark(false); document.documentElement.classList.toggle('dark',false); } },[]); function toggle(){ const n=!Boolean(dark); setDark(n); try{ localStorage.setItem('tnl-theme', n ? 'dark' : 'light') }catch(e){} document.documentElement.classList.toggle('dark', n); } if(!mounted||dark===null) return <button aria-label="toggle theme" className="p-2 rounded-md border" disabled>‚ãØ</button>; return (<button aria-label="toggle theme" onClick={toggle} className="p-2 rounded-md border" title={dark? 'Switch to light':'Switch to dark'}>{dark? 'üåô':'‚òÄÔ∏è'}</button>) }
